function p(e){const t=document.getElementById("repeater-template"),o=document.querySelector("."+e+"-repeater-container"),r=t.content.cloneNode(!0);r.querySelector('input[name="propName_keys[]"]').name=e+"_keys[]",r.querySelector('input[name="propName_values[]"]').name=e+"_values[]",o.appendChild(r),o.querySelectorAll(".remove-item").forEach(a=>{a.addEventListener("click",function(){const u=this.closest(".repeater-item"),l=u.closest(".query-repeater-container")!==null;u.remove(),l&&m()})})}function m(){console.log(1);let e=document.querySelector('input[name="origin_url"]'),t=e.value,o=document.querySelectorAll('input[name="query_keys[]"]'),r=[];o.forEach(a=>{a.value.trim()!==""&&r.push(`${a.value.trim()}=${a.nextElementSibling.value.trim()}`)});let n=r.join("&");t.includes("?")&&(t=t.split("?")[0]),n!==""&&(t+="?"+n),e.value=t}function s(){let t=document.querySelector('input[name="origin_url"]').value,o=/{(\w+?)}/g,r=[],n;for(;n=o.exec(t);)r.push(n[1]);let a=document.querySelector(".param-repeater-container");a.innerHTML="",r.forEach(u=>{let l=document.createElement("div");if(l.classList.add("input-group","repeater-item"),l.innerHTML=`
        <input name="param_keys[]" type="text" placeholder="Key" value="${u}" readonly>
        <input name="param_values[]" type="text" placeholder="Value">
    `,a.appendChild(l),l.closest(".param-repeater-container")!==null){const i=l.querySelector('input[name="param_values[]"]');i&&(i.placeholder="Leave blank if you want the user to fill it")}})}function d(){let t=document.querySelector('input[name="origin_url"]').value,r=/\?(.*)$/.exec(t),n=document.querySelector(".query-repeater-container");n.innerHTML="",r&&r[1]&&r[1].split("&").forEach(u=>{let[l,c]=u.split("="),i=document.createElement("div");i.classList.add("input-group","repeater-item"),i.innerHTML=`
            <input name="query_keys[]" type="text" placeholder="Key" value="${l}" readonly>
            <input name="query_values[]" type="text" placeholder="Value" value="${c}">
        `,n.appendChild(i)})}function y(){const e=document.querySelector('input[name="method"]:checked').value,t=document.querySelector(".body-repeater-container").closest(".row_custom");e==="GET"?t.style.display="none":t.style.display="block"}const v=document.querySelectorAll('input[name="method"]');v.forEach(e=>{e.addEventListener("change",y)});document.querySelector('input[name="origin_url"]').addEventListener("input",s);document.querySelector('input[name="origin_url"]').addEventListener("input",d);document.querySelector(".query-repeater-container").addEventListener("input",function(e){e.target.closest(".repeater-item")&&m()});document.querySelectorAll(".add-key-value").forEach(e=>{e.addEventListener("click",()=>{p(e.getAttribute("data-attr"))})});
