$(document).ready(function(){$(function(){$(".jw__customScroll").length&&!/Mobi/.test(navigator.userAgent)&&jQuery().perfectScrollbar&&$(".jw__customScroll").perfectScrollbar({theme:"kit"}),$("[data-toggle=tooltip]").tooltip(),$("[data-toggle=popover]").popover()})}),$(document).ready(function(){$(function(){if($("body").find(".juzaweb__menuLeft").length<1)return;(function(){var t=!1;function a(){t||$("body").addClass("juzaweb__menuLeft--toggled")}$(window).innerWidth()<=992&&(a(),t=!0),$(window).on("resize",function(){$(window).innerWidth()<=992?(a(),t=!0):t=!1})})(),$(".juzaweb__menuLeft__trigger").on("click",function(){$("body").toggleClass("juzaweb__menuLeft--toggled")}),$(".juzaweb__menuLeft__backdrop, .juzaweb__menuLeft__mobileTrigger").on("click",function(){$("body").toggleClass("juzaweb__menuLeft--mobileToggled")});var i=0,n=!1;const e=t=>t.changedTouches?t.changedTouches[0]:t;document.addEventListener("touchstart",t=>{const a=e(t).clientX;i=a,n=a>70},{passive:!1}),document.addEventListener("touchmove",t=>{e(t).clientX-i>50&&!n&&($("body").toggleClass("juzaweb__menuLeft--mobileToggled"),n=!0)},{passive:!1})})}),$(document).ready(function(){$(function(){if($("body").find(".juzaweb__menuTop").length<1)return;var i=window.location.href,n=i.substr(i.lastIndexOf("/")+1),e=$(".juzaweb__menuTop").find('a[href="'+n+'"]');console.log(n),e.addClass("juzaweb__menuTop__item--active").parents(".juzaweb__menuTop__submenu").addClass("juzaweb__menuTop__submenu--toggled").find("> .juzaweb__menuTop__navigation").show(),$(".juzaweb__menuTop__backdrop, .juzaweb__menuTop__mobileTrigger").on("click",function(){$("body").toggleClass("juzaweb__menuTop--mobileToggled")});var t=0,a=!1;const o=l=>l.changedTouches?l.changedTouches[0]:l;document.addEventListener("touchstart",l=>{const s=o(l).clientX;t=s,a=s>70},{passive:!1}),document.addEventListener("touchmove",l=>{o(l).clientX-t>50&&!a&&($("body").toggleClass("juzaweb__menuTop--mobileToggled"),a=!0)},{passive:!1}),$(".juzaweb__menuTop__submenu > .juzaweb__menuTop__item__link").on("click",function(){if($(window).innerWidth()<768){var l=$(this).closest(".juzaweb__menuTop__submenu"),s=$(".juzaweb__menuTop__submenu--toggled");l.hasClass("juzaweb__menuTop__submenu--toggled")||l.parent().closest(".juzaweb__menuTop__submenu").length||s.removeClass("juzaweb__menuTop__submenu--toggled").find("> .juzaweb__menuTop__navigation").slideUp(200),l.toggleClass("juzaweb__menuTop__submenu--toggled");var r=l.find("> .juzaweb__menuTop__navigation");r.is(":visible")?r.slideUp(200):r.slideDown(200)}})})}),$(document).ready(function(){$(function(){function i(a){window.localStorage.setItem("appName",a);var o=$(".juzaweb__menuLeft").length?$(".juzaweb__menuLeft__logo__name"):$(".juzaweb__menuTop__logo__name"),l=$(".juzaweb__menuLeft").length?$(".juzaweb__menuLeft__logo__descr"):$(".juzaweb__menuTop__logo__descr");o.html(a),a!=="Clean UI Pro"?l.hide():l.show()}$(".juzaweb__menuTop").length&&$(".hideIfMenuTop").css({pointerEvents:"none",opacity:.4}),$(".juzaweb__sidebar__actionToggle").on("click",function(){$("body").toggleClass("juzaweb__sidebar--toggled")}),$(".juzaweb__sidebar__actionToggleTheme").on("click",function(){var a=document.querySelector("html").getAttribute("data-kit-theme");a==="dark"&&(document.querySelector("html").setAttribute("data-kit-theme","default"),$("body").removeClass("jw__dark juzaweb__menuLeft--gray juzaweb__menuTop--gray juzaweb__menuLeft--dark juzaweb__menuTop--dark")),a==="default"&&(document.querySelector("html").setAttribute("data-kit-theme","dark"),$("body").removeClass("juzaweb__menuLeft--gray juzaweb__menuTop--gray juzaweb__menuLeft--dark juzaweb__menuTop--dark"),$("body").addClass("juzaweb__menuLeft--dark juzaweb__menuTop--dark"))}),$("#appName").on("keyup",function(a){i(a.target.value)});var n=window.localStorage.getItem("appName");function e(a){function o(s){window.localStorage.setItem("kit.primary",s);var r=`:root { --kit-color-primary: ${s};}`;$("<style />").attr("id","primaryColor").text(r).prependTo("body")}var l=$("#primaryColor");l&&l.remove(),o(a)}n&&(i(n),$("#appName").val(n));var t=window.localStorage.getItem("kit.primary");t&&($("#colorPicker").val(t),e(t),$("#resetColor").parent().removeClass("reset")),$("#colorPicker").on("change",function(){e($(this).val()),$("#resetColor").parent().removeClass("reset")}),$("#resetColor").on("click",function(){window.localStorage.removeItem("kit.primary"),$("#primaryColor").remove(),$("#resetColor").parent().addClass("reset")}),$(".juzaweb__sidebar__switch input").on("change",function(){var a=$(this),o=a.is(":checked"),l=a.attr("to"),s=a.attr("setting");o?$(l).addClass(s):$(l).removeClass(s)}),$(".juzaweb__sidebar__switch input").each(function(){var a=$(this),o=a.attr("to"),l=a.attr("setting");$(o).hasClass(l)&&a.attr("checked",!0)}),$(".juzaweb__sidebar__select__item").on("click",function(){var a=$(this),o=a.parent(),l=o.attr("to"),s=a.attr("setting"),r=o.find("> div"),d="";r.each(function(){var u=$(this).attr("setting");u&&(d=d+" "+u)}),r.removeClass("juzaweb__sidebar__select__item--active"),a.addClass("juzaweb__sidebar__select__item--active"),$(l).removeClass(d),$(l).addClass(s)}),$(".juzaweb__sidebar__select__item").each(function(){var a=$(this),o=a.parent(),l=o.attr("to"),s=a.attr("setting"),r=o.find("> div");$(l).hasClass(s)&&(r.removeClass("juzaweb__sidebar__select__item--active"),a.addClass("juzaweb__sidebar__select__item--active"))}),$(".juzaweb__sidebar__type__items input").on("change",function(){var a=$(this),o=a.is(":checked"),l=a.attr("to"),s=a.attr("setting");$("body").removeClass("juzaweb__menu--compact juzaweb__menu--flyout juzaweb__menu--nomenu"),o?$(l).addClass(s):$(l).removeClass(s)}),$(".juzaweb__sidebar__type__items input").each(function(){var a=$(this),o=a.attr("to"),l=a.attr("setting");$(o).hasClass(l)&&a.attr("checked",!0)})})}),$(document).ready(function(){$(function(){$(".juzaweb__topbar__actionsDropdown .dropdown-menu").on("click",function(){$(".juzaweb__topbar__actionsDropdown").on("hide.bs.dropdown",function(l){l.preventDefault(),$(".juzaweb__topbar__actionsDropdown .nav-link").on("shown.bs.tab",function(s){$(".juzaweb__topbar__actionsDropdown .dropdown-toggle").dropdown("update")})})}),$(document,".juzaweb__topbar__actionsDropdown .dropdown-toggle").mouseup(function(l){var s=$(".juzaweb__topbar__actionsDropdown"),r=$(".juzaweb__topbar__actionsDropdownMenu");!r.is(l.target)&&r.has(l.target).length===0&&s.hasClass("show")&&(s.removeClass("show"),r.removeClass("show"))});var i=$(".juzaweb__topbar__livesearch"),n=$(".juzaweb__topbar__livesearch__close"),e="juzaweb__topbar__livesearch__visible",t=$("#livesearch__input"),a=$("#livesearch__input__inner");function o(){i.removeClass(e)}t.on("focus",function(){i.addClass(e),setTimeout(function(){a.focus()},200)}),n.on("click",o),document.addEventListener("keydown",function(l){event.keyCode.toString()==="27"&&o()},!1)})});$(document).ready(function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(document).ajaxError(function(i,n,e,t){n.status===401&&(window.location="/"),n.status===419&&(window.location=location.toString())})});window.ajaxRequest=function(n,e=null,t={}){let a=$.ajax({type:t.method||"POST",url:n,dataType:t.dataType||"json",data:e,cache:!1,async:typeof t.async<"u"?t.async:!0});return a.done(function(o){t.callback&&t.callback(o)}),a.fail(function(o){t.failCallback&&t.failCallback(o)}),a.responseJSON};window.replace_template=function(i,n){return i.replace(/{(\w*)}/g,function(e,t){return n.hasOwnProperty(t)?n[t]:""})};window.process_each=function(n,e,t,a={}){let o=0,l=n.length;(function s(){let r=e.call(n[o++]);o<l?setTimeout(s,t):a.completeCallback&&a.completeCallback(r)})()};window.toastr_message=function(i,n,e=null){n==!0?toastr.success(i,e||juzaweb.lang.successfully+" !!"):toastr.error(i,e||juzaweb.lang.error+" !!")};window.confirm_message=function(i,n,e="",t="warning"){Swal.fire({title:e,text:i,type:t,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:juzaweb.lang.yes+"!",cancelButtonText:juzaweb.lang.cancel+"!"}).then(a=>{n(a.value)})};window.get_message_response=function(i){if(i.data)return i.data.message?{status:i.status,message:i.data.message}:!1;if(i.responseJSON){if(i.responseJSON.errors){let n="";return $.each(i.responseJSON.errors,function(e,t){return n=t[0],!1}),{status:!1,message:n}}else if(i.responseJSON.message)return{status:!1,message:i.responseJSON.message}}if(i.message)return{status:!1,message:i.message.message}};window.show_message=function(i,n=!1){let e=get_message_response(i),t=`<div class="alert alert-${e.status?"success":"danger"} jw-message">
        <button type="button" class="close" data-dismiss="alert" aria-label="${juzaweb.lang.close}">
            <span aria-hidden="true">&times;</span>
        </button>

        ${e.status?'<i class="fa fa-check"></i>':'<i class="fa fa-times"></i>'} ${e.message}
    </div>`;n?$("#jquery-message").append(t):$("#jquery-message").html(t)};window.show_message_del=function(i,n=!1){let e=`<div class="alert alert-${i.status?"success":"danger"} jw-message">
        <button type="button" class="close" data-dismiss="alert" aria-label="${juzaweb.lang.close}">
            <span aria-hidden="true">&times;</span>
        </button>

        ${i.status?'<i class="fa fa-check"></i>':'<i class="fa fa-times"></i>'} ${i.message}
    </div>`;n?$("#jquery-message").append(e):$("#jquery-message").html(e)};window.show_notify=function(n){let e=get_message_response(n);toastr_message(e.message,e.status)};window.htmlspecialchars=function(i){return i=String(i),i.replace("&","&amp;").replace('"',"&quot;").replace("'","&#039;").replace("<","&lt;").replace(">","&gt;")};window.toggle_global_loading=function(i,n=300){i?$("#admin-overlay").fadeIn(300):setTimeout(function(){$("#admin-overlay").fadeOut(300)},n)};window.isImage=function(i){var n=i.split(".").pop().toLowerCase(),e=["jpg","jpeg","png","gif"];return e.includes(n)};$(document).ready(function(){$("body").on("click",".custom-seo",function(){let e=$(this),t=$("input[name=title]").val(),a=tinyMCE.get("content-editor").getContent();if($("#meta_title").val()&&$("#meta_description").val())return e.hide("slow"),$(".box-custom-seo").show("slow"),!1;$.ajax({type:"POST",url:juzaweb.adminUrl+"/ajax/seo-content",dataType:"json",data:{title:t,description:a}}).done(function(o){return o.status===!1?(show_message(o),!1):($("#meta_title").val()||$("#meta_title").val(o.title),$("#meta_description").val()||$("#meta_description").val(o.description),$("#meta_title").val()||$(".review-title").text(o.title),$("#meta_description").val()||$(".review-description").text(o.description),e.hide("slow"),$(".box-custom-seo").show("slow"),!1)}).fail(function(o){return show_message(o),!1})}),$(document).on("change",'input[name="meta_og_title"], textarea[name="meta_og_description"], input[name="meta_og_url"]',function(){var e=$(this).val(),t=$(this).attr("name");$("."+t).length>0&&$("."+t).text(e)}),$("input[name=title], textarea[name=content]").on("change",function(){let e=$("input[name=title]").val();if(tinyMCE.get("content-editor"))var a=tinyMCE.get("content-editor").getContent();else var a="";$.ajax({type:"POST",url:juzaweb.adminUrl+"/ajax/seo-content",dataType:"json",data:{title:e,description:a}}).done(function(o){return o.status===!1?(show_message(o),!1):($("#meta_title").val()||$(".review-title").text(o.title),$("#meta_description").val()||$(".review-description").text(o.description),!1)}).fail(function(o){return show_message(o),!1})}),$("form").on("change","input[name=slug]",function(){let e=$(this).val();$(".review-url span").text(e)}),$("#meta_title, #meta_description, #meta_url").on("change",function(){let e=$("#meta_title").val(),t=$("#meta_description").val();$.ajax({type:"POST",url:juzaweb.adminUrl+"/ajax/seo-content",dataType:"json",data:{title:e,description:t}}).done(function(a){return a.status===!1?(show_message(a.message),!1):($(".review-title").text(a.title),$(".review-description").text(a.description),!1)}).fail(function(a){return show_message(a),!1})}),$(document).on("change","#meta_description",function(){var e=$("#meta_og_description");e.val($(this).val())}),$("input[name=title]").on("change",function(){let e=$("input[name=title]").val();if(tinyMCE.get("content-editor"))var a=tinyMCE.get("content-editor").getContent();else var a="";$.ajax({type:"POST",url:juzaweb.adminUrl+"/ajax/seo-content",dataType:"json",data:{title:e,description:a}}).done(function(o){return $("#meta_og_description").val(o.description),$(".meta_og_description").text(o.description),$(".meta_og_title").text(o.title),$("#meta_twitter_description").val(o.description),!1}).fail(function(o){return show_message(o),!1})});var i=document.querySelectorAll('input[name="meta_showRobots"]'),n=document.getElementById("robotsOptions");i.forEach(function(e){e.addEventListener("change",function(){this.value==="yes"?n.style.display="block":n.style.display="none"})}),$('input[name="thumbnail"]').on("change",function(){var e=$(this).val();$('input[name="meta_og_image"]').val(e)})});let juzawebFileManager$1=function(i,n){let e=i.type||"image",t=i.prefix,a=i.multichoose||!1;t[0]!=="/"&&(t="/"+t);let o=window.screenLeft!==void 0?window.screenLeft:window.screenX,l=i.width?i.width:800,s=i.height?i.height:500,r=window.screenTop!==void 0?window.screenTop:window.screenY,d=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,u=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,c=d/window.screen.availWidth,m=(d-l)/2/c+o,f=(u-s)/2/c+r;window.open(t+"?type="+e+(a?"&multichoose=1":""),"File Manager","scrollbars=yes, width="+l/c+", height="+s/c+", top="+f+", left="+m),window.SetUrl=n};$.fn.filemanager=function(i,n){let e=this,t=juzaweb.adminPrefix+"/file-manager";this.on("click",function(a){juzawebFileManager$1({type:i,prefix:t},function(o){let l=o[0];e.data("input")&&$("#"+e.data("input")).val(l.path),e.data("preview")&&$("#"+e.data("preview")).html('<img src="'+l.url+'" alt="'+l.name+'">'),e.data("name")&&$("#"+e.data("name")).html(l.name)})})};$(document).ready(function(){const i=$("body");i.on("click",".file-manager",function(){let e=$(this).data("type")||"image",t=$(this).data("input"),a=$(this).data("preview"),o=$(this).data("name"),l=juzaweb.adminPrefix+"/file-manager";juzawebFileManager$1({type:e,prefix:l,multichoose:!0},function(s){let r=s[0];t&&$("#"+t).val(r.path),a&&$("#"+a).html('<img src="'+r.url+'" alt="">'),o&&$("#"+o).html(r.name)})});function n(e,t,a=null){let o=e.closest(".form-image"),l=o.find(".dropify-render"),s=o.find(".dropify-filename-inner");e.val(t.path),l.html('<img src="'+t.url+'" alt="">'),s.html(t.name),o.addClass("previewing"),o.find(".image-hidden").show(),a&&a.find('img[name="image_preview"]').attr("src",t.url)}i.on("click",".form-image",function(){let e=$(this),t=e.find(".input-path"),a=e.find(".dropify-render"),o=e.find(".dropify-filename-inner"),l=juzaweb.adminPrefix+"/file-manager";var s="image";e.closest(".banner-item").length&&(s="file"),juzawebFileManager$1({type:s,prefix:l},function(r){let d=r[0];t.val(d.path),a.html('<img src="'+d.url+'" alt="">'),o.html(d.name),e.addClass("previewing"),e.find(".image-hidden").show(),t.prop("name")=="thumbnail"&&(n($('input[name="meta_og_image"]'),d,$(".facebook-preview")),n($('input[name="meta_twitter_image"]'),d),$('input[name="meta_twitter_image_alt"]').val(d.text)),t.prop("name")=="meta_og_image"&&$(".facebook-preview").find('img[name="image_preview"]').attr("src",d.url),t.prop("name")=="meta_twitter_image"&&$('input[name="meta_twitter_image_alt"]').val(d.text)})}),i.on("click",".form-image .image-clear",function(e){e.stopPropagation();let t=$(this).closest(".form-image"),a=t.find(".input-path"),o=t.find(".dropify-render"),l=t.find(".dropify-filename-inner");a.val(""),o.html(""),l.html(""),t.removeClass("previewing"),t.find(".image-hidden").hide()}),i.on("click",".add-image-images",function(){let e=juzaweb.adminPrefix+"/file-manager",t=$(this).closest(".form-images"),a=t.find(".input-name").val();juzawebFileManager$1({type:"image",prefix:e,multichoose:!0},function(o){let l=document.getElementById("form-images-template").innerHTML,s="";$.each(o,function(r,d){s+=replace_template(l,{name:a,url:d.url,path:d.path})}),t.find(".images-list .image-item:last").before(s)})}),i.on("click",".form-images .remove-image-item",function(){$(this).closest(".image-item").remove()})});$(document).ready(function(){$(".jw-widget-builder").nestable({noDragClass:"dd-nodrag",maxDepth:1}),$("#widget-container").on("click",".dropdown-action",function(){let i=$(this).closest(".widget-block").find(".sidebar-blocks");i.is(":hidden")?i.show():i.hide()}),$("#widget-container").on("submit",".form-add-widget",function(){let i=$(this).serialize(),n=$(this).find("button[type=submit]"),e=n.find("i").attr("class");return n.find("i").attr("class","fa fa-spinner fa-spin"),n.prop("disabled",!0),ajaxRequest(juzaweb.adminUrl+"/widgets/get-item",i,{method:"GET",callback:function(t){let a=t.items||[];$.each(a,function(o,l){$("#sidebar-"+o+" .jw-widget-builder .dd-empty").remove(),$("#sidebar-"+o+" .dd-list").append(l.html)}),$.each(a,function(o,l){initSelect2("#dd-item-"+l.key)}),n.find("i").attr("class",e),n.prop("disabled",!1)},failCallback:function(){show_message(response),n.find("i").attr("class",e),n.prop("disabled",!1)}}),!1}),$("#widget-container").on("click",".widget-sidebar-item",function(){let i=$(this),n=i.find("input").is(":checked"),e=i.closest(".form-add-widget"),t=e.find("button[type=submit]");n?(i.find("span").html(""),i.find("input").prop("checked",!1)):(i.find("span").html('<i class="fa fa-check"></i>'),i.find("input").prop("checked",!0)),e.find(".widget-sidebar-item input:checked").length>0?t.prop("disabled",!1):t.prop("disabled",!0)}),$("#widget-container").on("click",".show-edit-form",function(){let n=$(this).closest(".sidebar-item").find(".card-body");n.is(":hidden")?n.show():n.hide()}),$("#widget-container").on("click",".show-item-form",function(){let i=$(this).closest(".dd-item").find(".form-item-edit");i.is(":hidden")?i.show():i.hide()}),$("#widget-container").on("click",".delete-item-form",function(){$(this).closest(".dd-item").remove()})});$(document).ready(function(){const i=$("#media-container");i.on("click",".show-form-upload",function(){let n=$(".media-upload-form");n.is(":hidden")?n.show("slow"):n.hide("slow")}),i.on("click",".media-file-item",function(){let n=document.getElementById("media-detail-template").innerHTML,e=JSON.parse($(this).find(".item-info").val());e.name=htmlspecialchars(e.name),n=replace_template(n,e),$("#preview-file").html(n)}),$("#preview-file").on("click",".delete-file",function(){let n=$(this).data("id"),e=$(this).data("is_file"),t=$(this).data("name");confirm_message(juzaweb.lang.remove_question.replace(":name",e==1?" file "+t:" folder "+t),function(a){if(!a)return!1;toggle_global_loading(!0),ajaxRequest(juzaweb.adminUrl+"/media/"+n,{is_file:e},{method:"DELETE",callback:function(o){toggle_global_loading(!1),show_notify(o),setTimeout(function(){window.location=""},500)},failCallback:function(o){toggle_global_loading(!1),show_notify(o)}})})})});$(document).ready(function(){var i=function(n){var e=n.length?n:$(n.target);window.JSON?$("#items-output").val(window.JSON.stringify(e.nestable("serialize"))):alert("JSON browser support required for this application.")};$("#jw-menu-builder").nestable({noDragClass:"dd-nodrag"}).on("change",i),i($("#jw-menu-builder")),$("#menu-container").on("submit",".form-menu-block",function(n){if(n.isDefaultPrevented())return!1;n.preventDefault();var e=$(this),t=new FormData(e[0]),a=e.find("button[type=submit]"),o=a.find("i").attr("class");a.find("i").attr("class","fa fa-spinner fa-spin"),a.prop("disabled",!0),$.ajax({type:e.attr("method"),url:e.attr("action"),dataType:"json",data:t,cache:!1,contentType:!1,processData:!1}).done(function(l){if(a.find("i").attr("class",o),a.prop("disabled",!1),l.status===!1)return show_message(l),!1;let s=l.data.items;return s.length>0&&($("#jw-menu-builder .dd-empty").remove(),$.each(s,function(r,d){$("#jw-menu-builder .dd-list:first").append(d)})),i($("#jw-menu-builder")),e.find(".reset-after-add").val(""),!1}).fail(function(l){return a.find("i").attr("class",o),a.prop("disabled",!1),show_message(l),!1})}),$("#menu-container").on("click",".btn-add-menu",function(){let n=$(".form-add-menu");n.is(":hidden")?n.show("slow"):n.hide("slow")}),$("#menu-container").on("change",".form-select-menu .load-menu",function(){let n=$(this).val();n&&(window.location=juzaweb.adminUrl+"/menus/"+n)}),$("#menu-container").on("click",".card-menu-show",function(){let n=$(this).closest(".card-menu-items").find(".card-body");n.is(":hidden")?($(".card-menu-items").find(".card-body").slideUp("slow"),$(".card-menu-items").find(".card-header").removeClass("bg-light"),$(this).closest(".card-menu-items").find(".card-header").addClass("bg-light"),n.slideDown("slow")):(n.slideUp("slow"),$(this).closest(".card-menu-items").find(".card-header").removeClass("bg-light"))}),$("#menu-container").on("click",".show-menu-edit",function(n){let e=$(this).closest(".dd-item").find(".form-item-edit").first();e.is(":hidden")?e.slideDown("slow"):e.slideUp("slow")}),$("#menu-container").on("click",".delete-menu",function(n){let e=$(this).data("id");confirm_message(juzaweb.lang.remove_question.replace(":name",juzaweb.lang.menu),function(t){t&&ajaxRequest(juzaweb.adminUrl+"/menus/"+e,{},{method:"DELETE",callback:function(a){show_message(a),window.location=juzaweb.adminUrl+"/menus"}})})}),$("#menu-container").on("change",".menu-data",function(){let n=$(this).data("name"),e=$(this).val();$(this).closest("li").data(n,e),i($("#jw-menu-builder")),$(this).hasClass("change-label")&&$(this).closest("li").find(".dd-handle span:first").text(e)}),$("#menu-container").on("click",".delete-menu-item",function(){$(this).closest("li").remove(),i($("#jw-menu-builder"))}),$("#menu-container").on("click",".close-menu-item",function(){let n=$(this).closest(".dd-item").find(".form-item-edit").first();n.is(":hidden")?n.slideDown("slow"):n.slideUp("slow")}),$("#menu-container").on("change",".select-all-checkbox",function(){let n=$(this).data("select"),e=$(this).is(":checked");$(this).closest(".tab-pane").find("."+n).prop("checked",e)}),$("#menu-container").on("keyup",".menu-box-post-type-search",function(){let n=$(this).val(),e=$(this).data("key"),t=$(this).data("post_type"),a=$(this).closest(".tab-pane").find(".box-tab-search-result");return a.html(""),n.length<=0||ajaxRequest(juzaweb.adminUrl+"/load-data/loadPostType",{search:n,per_page:5,post_type:t},{method:"GET",callback:function(o){let l="";return $.each(o.results,function(s,r){l+=`<div class="form-check mt-1">
                        <label class="form-check-label">
                            <input class="form-check-input select-all-search-${e}" type="checkbox" name="items[]" value="${r.id}">
                            ${r.text}
                        </label>
                    </div>`}),a.html(l),!1}}),!1}),$("#menu-container").on("keyup",".menu-box-taxonomy-search",function(){let n=$(this).val(),e=$(this).data("key"),t=$(this).data("taxonomy"),a=$(this).closest(".tab-pane").find(".box-tab-search-result");return a.html(""),n.length<=0||ajaxRequest(juzaweb.adminUrl+"/load-data/loadTaxonomies",{search:n,per_page:5,taxonomy:t},{method:"GET",callback:function(o){let l="";return $.each(o.results,function(s,r){l+=`<div class="form-check mt-1">
                        <label class="form-check-label">
                            <input class="form-check-input select-all-search-${e}" type="checkbox" name="items[]" value="${r.id}">
                            ${r.text}
                        </label>
                    </div>`}),a.html(l),!1}}),!1})});$(document).ready(function(){let i=$("body");i.on("click",".install-plugin",function(){let n=$(this).data("plugin"),e=$(this),t=e.html();e.prop("disabled",!0),e.html('<i class="fa fa-spinner fa-spin"></i> '+juzaweb.lang.please_wait),jwCMSUpdate("plugin",1,null,{plugin:n},function(a){e.html(juzaweb.lang.activate),e.removeClass("install-plugin"),e.addClass("active-plugin"),e.prop("disabled",!1)},function(a){show_message(a),e.prop("disabled",!1),e.html(t)})}),i.on("click",".active-plugin",function(){let n=$(this).data("plugin"),e=$(this);e.prop("disabled",!0),ajaxRequest(juzaweb.adminUrl+"/plugins/bulk-actions",{ids:[n],action:"activate"},{method:"POST",callback:function(t){show_message(t),e.html(`<i class="fa fa-check"></i> ${juzaweb.lang.activated}`),e.removeClass("active-plugin"),e.prop("disabled",!0)},failCallback:function(t){show_message(t),e.prop("disabled",!1)}})})});$(document).ready(function(){let i=$("body");i.on("click",".update-theme",function(){let n=$(this).data("theme"),e=$(this),t=e.html();e.prop("disabled",!0),e.html('<i class="fa fa-spinner fa-spin"></i> '+juzaweb.lang.please_wait),jwCMSUpdate("theme",1,null,{theme:n},function(a){e.remove(),show_message(a)},function(a){e.prop("disabled",!1),e.html(t),show_message(a)})}),i.on("click",".install-theme",function(){let n=$(this).data("theme"),e=$(this),t=e.html();e.prop("disabled",!0),e.html('<i class="fa fa-spinner fa-spin"></i> '+juzaweb.lang.please_wait),jwCMSUpdate("theme",1,null,{theme:n},function(a){e.html(juzaweb.lang.activate),e.removeClass("install-theme"),e.addClass("active-theme"),e.prop("disabled",!1)},function(a){show_message(a),e.prop("disabled",!1),e.html(t)})}),i.on("click",".active-theme",function(){let n=$(this).data("theme"),e=$(this);e.prop("disabled",!0),ajaxRequest(juzaweb.adminUrl+"/themes/activate",{theme:n},{method:"POST",callback:function(t){show_message(t),e.html(`<i class="fa fa-check"></i> ${juzaweb.lang.activated}`),e.removeClass("active-theme"),e.prop("disabled",!0)},failCallback:function(t){show_message(t),e.prop("disabled",!1)}})}),i.on("click",".delete-theme",function(){let n=$(this).data("theme"),e=$(this),t=e.html();confirm_message(juzaweb.lang.delete_theme_confirm,function(a){if(!a)return!1;e.html('<i class="fa fa-spinner fa-spin"></i> '+juzaweb.lang.please_wait),ajaxRequest(juzaweb.adminUrl+"/themes/bulk-actions",{ids:[n],action:"delete"},{method:"POST",callback:function(o){show_message(o),o.status==!0&&e.closest(".theme-list-item").remove()},failCallback:function(o){show_message(o),e.html(t)}})})}),i.on("click",".buy-theme",function(){let n=$(this),e=n.data("theme"),t=n.html();n.prop("disabled",!0),n.html('<i class="fa fa-spinner fa-spin"></i>'),ajaxRequest(juzaweb.adminUrl+"/module/theme/buy-modal",{module:e},{method:"GET",callback:function(a){$("#show-modal").empty().html(a.data.html),$("#show-modal .modal").modal(),n.html(t),n.prop("disabled",!1)},failCallback:function(a){show_message(a),n.html(t),n.prop("disabled",!1)}})}),i.on("submit","#form-activation-code, #form-select-key",function(n){if(n.isDefaultPrevented())return!1;n.preventDefault();let e=$(this),t=e.find("button[type=submit]"),a=e.find("input[name=module]").val(),o=e.find("[name=key]").val(),l=t.html();return o&&(t.prop("disabled",!0),t.html('<i class="fa fa-spinner fa-spin"></i> '+juzaweb.lang.please_wait),ajaxRequest(juzaweb.adminUrl+"/module/theme/activation-code",{module:a,key:o},{method:"POST",callback:function(s){return s.status!==!0?(show_message(s),t.html(l),t.prop("disabled",!1),!1):(e.find("input[name=key]").closest(".form-group").hide(),t.html('<i class="fa fa-spinner fa-spin"></i> '+juzaweb.lang.installing),jwCMSUpdate("theme",1,null,{theme:a},function(r){t.html(juzaweb.lang.activate),t.removeClass("install-theme"),t.addClass("active-theme"),t.data("theme",a),t.prop("disabled",!1)},function(r){show_message(r),t.prop("disabled",!1),t.html(l)}),!1)},failCallback:function(s){return show_message(s),t.html(l),t.prop("disabled",!1),!1}})),!1}),i.on("submit","#form-login-juzaweb",function(n){if(n.isDefaultPrevented())return!1;n.preventDefault();let e=$(this),t=e.find("button[type=submit]"),a=e.find("input[name=module]").val(),o=e.find("input[name=email]").val(),l=e.find("input[name=password]").val(),s=t.html();return!o||!l||(t.prop("disabled",!0),t.html('<i class="fa fa-spinner fa-spin"></i> '+juzaweb.lang.please_wait),ajaxRequest(juzaweb.adminUrl+"/module/login-juzaweb",{module:a,email:o,password:l},{method:"POST",callback:function(r){return r.status!==!0?(show_message(r),t.html(s),t.prop("disabled",!1),!1):(ajaxRequest(juzaweb.adminUrl+"/module/theme/buy-modal",{module:a},{method:"GET",callback:function(d){$("#show-modal .modal").modal("hide"),$("#show-modal").empty().html(d.data.html),$("#show-modal .modal").modal()},failCallback:function(d){show_message(d),t.html(s),t.prop("disabled",!1)}}),!1)},failCallback:function(r){return show_message(r),t.html(s),t.prop("disabled",!1),!1}})),!1})});function initSelect2$1(i="body"){$(i+" .select2").select2({allowClear:!0,dropdownAutoWidth:!$(this).data("width"),width:$(this).data("width")||"100%",placeholder:function(e){return{id:null,text:e.placeholder}}}),$(i+" .select2-default").select2({width:$(this).data("width")||"100%",dropdownAutoWidth:!$(this).data("width")});var n=$(".lang-switch").val();n=n||"",$(i+" .load-taxonomies").select2({allowClear:!0,dropdownAutoWidth:!$(this).data("width"),width:$(this).data("width")||"100%",placeholder:function(e){return{id:null,text:e.placeholder}},ajax:{method:"GET",url:juzaweb.adminUrl+"/load-data/loadTaxonomies",dataType:"json",data:function(e){let t=$(this).data("post-type"),a=$(this).data("taxonomy"),o=$(this).data("explodes");return o&&(o=$("."+o).map(function(){return $(this).val()}).get()),{search:$.trim(e.term),page:e.page,explodes:o,post_type:t,taxonomy:a,lang:n}}}}),$(i+" .load-users").select2({allowClear:!0,dropdownAutoWidth:!$(this).data("width"),width:$(this).data("width")||"100%",placeholder:function(e){return{id:null,text:e.placeholder}},ajax:{method:"GET",url:"/"+juzaweb.adminPrefix+"/load-data/loadUsers",dataType:"json",data:function(e){let t=$(this).data("explodes")?$(this).data("explodes"):null;return t&&(t=$("."+t).map(function(){return $(this).val()}).get()),{search:$.trim(e.term),page:e.page,explodes:t}}}}),$(i+" .load-menu").select2({allowClear:!0,dropdownAutoWidth:!$(this).data("width"),width:$(this).data("width")||"100%",placeholder:function(e){return{id:null,text:e.placeholder}},ajax:{method:"GET",url:"/"+juzaweb.adminPrefix+"/load-data/loadMenu",dataType:"json",data:function(e){let t=$(this).data("explodes")?$(this).data("explodes"):null;return t&&(t=$("."+t).map(function(){return $(this).val()}).get()),{search:$.trim(e.term),page:e.page,explodes:t}}}}),$(i+" .load-pages").select2({allowClear:!0,dropdownAutoWidth:!$(this).data("width"),width:$(this).data("width")||"100%",placeholder:function(e){return{id:null,text:e.placeholder}},ajax:{method:"GET",url:"/"+juzaweb.adminPrefix+"/load-data/loadPages",dataType:"json",data:function(e){return{search:$.trim(e.term),page:e.page}}}}),$(i+" .load-posts").select2({allowClear:!0,dropdownAutoWidth:!$(this).data("width"),width:$(this).data("width")||"100%",placeholder:function(e){return{id:null,text:e.placeholder,parent_name}},ajax:{method:"GET",url:"/"+juzaweb.adminPrefix+"/load-data/loadPosts",dataType:"json",data:function(e){let t=$(this).data("type")?$(this).data("type"):null;return{search:$.trim(e.term),page:e.page,type:t,lang:n}}},templateResult:function(e){if(!e.id)return $("<span>").text(e.text);var t="";e.parent_name&&(t="<small style='display:block;color:#bf0603;'>"+e.parent_name+"</small>");var a=$("<div><span>"+e.text+t+"</span></div>");return a}}),$(i+" .load-locales").select2({allowClear:!0,dropdownAutoWidth:!$(this).data("width"),width:$(this).data("width")||"100%",placeholder:function(e){return{id:null,text:e.placeholder}},ajax:{method:"GET",url:"/"+juzaweb.adminPrefix+"/load-data/loadLocales",dataType:"json",data:function(e){let t=$(this).data("type")?$(this).data("type"):null,a=$(this).data("explodes")?$(this).data("explodes"):null;return{search:$.trim(e.term),page:e.page,type:t,explodes:a}}}}),$(i+" .load-select2").select2({allowClear:!0,dropdownAutoWidth:!$(this).data("width"),width:$(this).data("width")||"100%",placeholder:function(e){return{id:null,text:e.placeholder}},ajax:{method:"GET",url:$(this).data("url")||"",dataType:"json",data:function(e){return{search:$.trim(e.term),page:e.page}}}}),$(i+" .load-resources").select2({allowClear:!0,dropdownAutoWidth:!$(this).data("width"),width:$(this).data("width")||"100%",placeholder:function(e){return{id:null,text:e.placeholder}},ajax:{method:"GET",url:juzaweb.adminUrl+"/load-data/loadResource",dataType:"json",data:function(e){let t=$(this).data("type"),a=$(this).data("explodes");return a&&(a=$("."+a).map(function(){return $(this).val()}).get()),{search:$.trim(e.term),page:e.page,explodes:a,type:t}}}}),$(i+" .load-subscription-objects").select2({allowClear:!0,dropdownAutoWidth:!$(this).data("width"),width:$(this).data("width")||"100%",placeholder:function(e){return{id:null,text:e.placeholder}},ajax:{method:"GET",url:juzaweb.adminUrl+"/load-data/loadSubscriptionObjects",dataType:"json",data:function(e){let t=$(this).data("module");return{search:$.trim(e.term),page:e.page,module:t}}}}),$(i+" #meta_keywords").select2({tags:!0,tokenSeparators:[","," ","	",`
`],dropdownAutoWidth:!$(this).data("width"),width:$(this).data("width")||"100%",minimumResultsForSearch:-1,dropdownParent:$(".tags-only")}),$(i+" #site_keywords").select2({tags:!0,tokenSeparators:[","," ","	",`
`],dropdownAutoWidth:!$(this).data("width"),width:$(this).data("width")||"100%",minimumResultsForSearch:-1,dropdownParent:$(".tags-only")}),$(i+" #meta_title_keywords").select2({tags:!0,tokenSeparators:[","," ","	",`
`],dropdownAutoWidth:!$(this).data("width"),width:$(this).data("width")||"100%",minimumResultsForSearch:-1,dropdownParent:$(".tags-only")})}$(document).ready(function(){initSelect2$1("body")});$(document).ready(function(){function sendRequestFormAjax(form,data,btnsubmit,currentText,currentIcon,captchaToken=null){let submitSuccess=form.data("success"),notify=form.data("notify")||!1;captchaToken&&data.append("g-recaptcha-response",captchaToken),$.ajax({type:form.attr("method"),url:form.attr("action"),dataType:"json",data,cache:!1,contentType:!1,processData:!1}).done(function(response){return notify?show_notify(response):show_message(response),submitSuccess&&eval(submitSuccess)(form,response),response.data.redirect?buttonType=="new"?(setTimeout(function(){window.location.reload()},1e3),!1):(setTimeout(function(){window.location=response.data.redirect},1e3),!1):(btnsubmit.find("i").attr("class",currentIcon),btnsubmit.prop("disabled",!1),btnsubmit.data("loading-text")&&btnsubmit.html(currentText),response.status===!1,!1)}).fail(function(i){return btnsubmit.find("i").attr("class",currentIcon),btnsubmit.prop("disabled",!1),btnsubmit.data("loading-text")&&btnsubmit.html(currentText),notify?show_notify(i):show_message(i),!1})}var buttonType="";$(".form-ajax button[type=submit]").click(function(){buttonType=$(this).data("type")}),$(document).on("submit",".form-ajax",function(i){if(i.isDefaultPrevented())return!1;i.preventDefault();let n=$(this),e=new FormData(n[0]),t=n.find("button[type=submit]"),a=t.html(),o=t.find("i").attr("class");if(t.find("i").attr("class","fa fa-spinner fa-spin"),t.prop("disabled",!0),t.data("loading-text")&&t.html('<i class="fa fa-spinner fa-spin"></i> '+t.data("loading-text")),typeof grecaptcha<"u")return loadRecapchaAndSubmit(function(l){sendRequestFormAjax(n,e,t,a,o,l)}),!1;sendRequestFormAjax(n,e,t,a,o)}),$(document).on("click",".load-modal",function(i){if(i.isDefaultPrevented())return!1;i.preventDefault();let n=$(this).data(),e=$(this),t=e.find("i").attr("class");e.find("i").attr("class","fa fa-spinner fa-spin"),e.prop("disabled",!0),e.addClass("disabled");let a="";$.each(n,function(l,s){l!=="url"&&(a+="&"+l+"="+s)});let o=$(this).data("url");a&&(o=o+"?"+a),$.ajax({type:"GET",url:o,dataType:"json",data:{},cache:!1,contentType:!1,processData:!1}).done(function(l){return e.find("i").attr("class",t),e.prop("disabled",!1),e.removeClass("disabled"),l.status===!1||($("#show-modal").html(l.data.source),$("#show-modal .modal").modal()),!1}).fail(function(l){return e.find("i").attr("class",t),e.prop("disabled",!1),!1})}),$(document).on("keypress",".is-number",function(){return validate_isNumberKey(this)}),$(document).on("keyup",".number-format",function(){return validate_FormatNumber(this)});function validate_isNumberKey(i){let n=i.which?i.which:event.keyCode;return n==59||n==46?!0:!(n>31&&(n<48||n>57))}function validate_FormatNumber(i){i.value=i.value.replace(/\,/gi,""),i.value=i.value.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}});$(document).ready(function(){$(".form-taxonomy").on("click",".add-new",function(){let i=$(this).closest(".form-taxonomy").find(".form-add");i.is(":visible")?i.hide("slow"):i.show("slow")}),$("body").on("change",".select-tags",function(){let i=$(this),n=i.val(),e=i.data("taxonomy"),t=i.data("type");$.ajax({type:"GET",url:juzaweb.adminUrl+"/taxonomy/"+t+"/"+e+"/component-item",dataType:"json",data:{id:n}}).done(function(a){return a.status===!1?(show_message(a),!1):(i.closest(".form-taxonomy").find(".show-tags").append(a.data.html),i.val(null).trigger("change.select2"),!1)}).fail(function(a){return show_message(a),!1})}),$(document).on("click",".remove-tag-item",function(){$(this).closest(".tag").remove()}),$(document).on("click",".form-add-taxonomy button",function(){let i=$(this),n=i.closest(".form-add"),e=n.find(".taxonomy-name").val(),t=n.find(".taxonomy-parent").val(),a=i.data("type"),o=i.data("taxonomy"),l=i.data("post_type"),s=i.find("i").attr("class");i.find("i").attr("class","fa fa-spinner fa-spin"),i.prop("disabled",!0),$.ajax({type:"POST",url:juzaweb.adminUrl+"/taxonomy/"+a+"/"+o,dataType:"json",data:{name:e,parent_id:t,post_type:l,taxonomy:o,lang:$("#tag-lang").val()}}).done(function(r){if(i.find("i").attr("class",s),i.prop("disabled",!1),r.status===!1)return show_message(r),!1;let d=i.closest(".form-taxonomy").find(".show-tags");if(d.length)d.append(r.data.html);else{let u=r.data.item,c=`<li class="m-1" id="item-category-${u.id}">
                    <div class="custom-control custom-checkbox">
                        <input type="checkbox" name="${u.taxonomy}[]" class="custom-control-input" id="${u.taxonomy}-${u.id}" value="${u.id}" checked>
                        <label class="custom-control-label" for="${u.taxonomy}-${u.id}">${u.name}</label>
                    </div>
                </li>`;t?(d=i.closest(".form-taxonomy").find(".show-taxonomies ul #item-category-"+u.parent_id+" ul:first"),d.length?d.append(c):(c='<ul class="mt-2 p-0">'+c+"</ul>",i.closest(".form-taxonomy").find(".show-taxonomies ul #item-category-"+u.parent_id).append(c))):i.closest(".form-taxonomy").find(".show-taxonomies ul:first").append(c)}return n.find(".taxonomy-name").val(""),t&&n.find(".taxonomy-parent").val(null).trigger("change.select2"),!1}).fail(function(r){return i.find("i").attr("class",s),i.prop("disabled",!1),show_message(r),!1})})});function addStyleSubmenu(t){var n=t.find(".juzaweb__menuLeft__navigation"),a=t.offset().top,o=$(window).scrollTop(),e=a-o-30,t=a+n.height()+1,a=60+t-$(".juzaweb__layout").height(),o=$(window).height()+o-50;(a=e<(a=o<t-a?t-o:a)?e:a)>1&&a>40?n.css("margin-top","-"+a+"px"):n.css("margin-top","")}$(document).ready(function(){let i=$("body");$(".appointment_form").closest("form").find(".btn-group").hide(),i.on("change",".show_on_front-change",function(){let t=$(this).val();t=="posts"&&$(".select-show_on_front").prop("disabled",!0),t=="page"&&$(".select-show_on_front").prop("disabled",!1)}),i.on("click",".cancel-button",function(){window.location=""}),i.on("change",".generate-slug",function(){let t=$(this).val();ajaxRequest(juzaweb.adminUrl+"/load-data/generateSlug",{title:t},{method:"GET",callback:function(a){$("input[name=slug]").val(a.slug).trigger("change")}})}),i.on("click",".slug-edit",function(){let t=$(this).closest(".input-group").find("input:first");t.prop("readonly",!t.prop("readonly"))}),i.on("click",".close-message",function(){let t=$(this).data("id");ajaxRequest(juzaweb.adminUrl+"/remove-message",{id:t},{method:"POST",callback:function(a){}})}),$(".juzaweb__menuLeft__submenu").on("mouseover",function(){$(this).hasClass("juzaweb__menuLeft__submenu--toggled")||addStyleSubmenu($(this))}),$(document).on("click",".expand-more",function(t){t.preventDefault(),$(this).closest("td").find(".short-text").toggleClass("expand")}),$(".lang-switch").on("change",function(){var t=$(this).val();if($(".related_ids").length){var a=$(".related_ids#"+t).val(),o=window.location.href;if(typeof a<"u"){var l=o.replace(/(\d+)\/edit/,a+"/edit");window.location.href=l}}});var n=$(".lang-switch").val();if($(".taxonomy-categories li[data-lang!='"+n+"']").remove(),$(".box-custom-seo").length){let t=function(){let a=$("input[name=title]").val();if(tinyMCE.get("content-editor"))var l=tinyMCE.get("content-editor").getContent();else var l="";var s=$("<div>").html(l).text();s=s.substring(0,160),$(".box-custom-seo #meta_title").val(a),$("#meta_og_title").val(a),$("#meta_twitter_title").val(a),$(".review-description").text(s),$(".box-custom-seo #meta_description").text(s)};var e=t;$("input[name=title], textarea[name=content]").on("change",function(){t()}),tinyMCE.activeEditor&&tinyMCE.activeEditor.on("change",function(){t()})}$(".slug-edit").click(function(t){alert("Caution! Modifying the slug of a page will have an impact on any associated subpages and posts.")}),$(document).on("click",".multi-files .add-image-images",function(){let t=juzaweb.adminPrefix+"/file-manager",a=$(this).closest(".form-images"),o=a.find(".input-name").val();juzawebFileManager({type:"file&lang="+n,prefix:t,multichoose:!0},function(l){let s=document.getElementById("form-images-template").innerHTML,r="";$.each(l,function(d,u){u.icon="",isImage(u.url)||(u.icon="fa fa-file"),r+=replace_template(s,{name:o,url:u.url,icon:u.icon,path:u.path})}),a.find(".images-list .image-item:last").before(r)})}),$('select[name="status"]').on("change",function(){var t=$(this).val();t==="publish"?$("#status_scheduled").show():$("#status_scheduled").hide()}),$(document).on("click","#preview-post",function(t){t.preventDefault();let a=$(this).closest("form"),o=new FormData(a[0]);o.append("status","preview"),o.append("content",tinyMCE.activeEditor.getContent());let l=a.find("button[type=submit]"),s=l.html(),r=l.find("i").attr("class");l.find("i").attr("class","fa fa-spinner fa-spin"),l.prop("disabled",!0),l.data("loading-text")&&l.html('<i class="fa fa-spinner fa-spin"></i> '+l.data("loading-text")),sendcustomRequestAjax(a,o,l,s,r)})});var previewID=0;function sendcustomRequestAjax(i,n,e,t,a){let o=i.data("notify")||!1;var l=i.attr("action"),s=l.split("/");/^\d+$/.test(s[s.length-1])&&s.pop();var r=s.join("/"),d="POST";n.delete("_method"),previewID!=0&&(r=r+"/"+previewID,n.append("_method","PUT")),$.ajax({type:d,url:r,dataType:"json",data:n,cache:!1,contentType:!1,processData:!1}).done(function(u){return e.find("i").attr("class",a),e.prop("disabled",!1),e.data("loading-text")&&e.html(t),u.status===!1||(previewID=u.data.id,window.open(u.data.path,"_blank")),!1}).fail(function(u){return e.find("i").attr("class",a),e.prop("disabled",!1),e.data("loading-text")&&e.html(t),o?show_notify(u):show_message(u),!1})}$(document).ready(function(){});$(document).ready(function(){let n=new URLSearchParams(window.location.search).get("template"),e=$("body");n&&$('select[name="meta[template]"]').val(n).trigger("change"),e.on("click",".show-form-block",function(){let t=$(this).closest(".dd-item").find(".form-block-edit");t.is(":hidden")?t.show("slow"):t.hide("slow")}),e.on("click",".remove-form-block",function(){$(this).closest(".dd-item").remove()}),e.on("change",'select[name="meta[template]"]',function(){let t=$(this).val();if(!t)return!1;let a=window.location.href;a=a.split("?")[0],window.location=a+"?template="+t}),e.on("click",".add-block-data",function(){let t=$(this).data("block"),a=$(this).data("content_key"),o=$(this),l=document.getElementById("block-"+t+"-template").innerHTML,s=new Date().getTime();l=replace_template(l,{marker:s,content_key:a}),o.closest(".page-block-content").find(".dd-empty").remove(),o.closest(".page-block-content").find(".dd-list").append(l),initSelect2("#page-block-"+s)})});
